<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Spire Tracking - Glass Arboretum</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="env.js"></script>
    <script src="supabase-config.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Sarabun', sans-serif;
        }

        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #111827;
        }

        ::-webkit-scrollbar-thumb {
            background: #374151;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #4b5563;
        }

        .glass-panel {
            background: rgba(31, 41, 55, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(75, 85, 99, 0.4);
        }

        .gradient-text {
            background: linear-gradient(to right, #4ade80, #22d3ee);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .input-primary {
            background-color: #111825;
            border: 1px solid #4b5563;
            color: #f9fafb;
            border-radius: 8px;
            padding: 10px 16px;
        }

        .input-primary:focus {
            border-color: #22c55e;
            box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
            outline: none;
        }

        /* Custom Select Style */
        select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .tab-btn {
            position: relative;
            transition: all 0.3s ease;
        }

        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0%;
            height: 2px;
            background: currentColor;
            transition: width 0.3s ease;
        }

        .tab-btn.active::after {
            width: 100%;
        }

        .slot {
            height: 80px;
            border: 2px dashed rgba(75, 85, 99, 0.6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            background-color: rgba(17, 24, 39, 0.5);
        }

        .slot:hover {
            border-color: #4ade80;
            background-color: rgba(34, 197, 94, 0.1);
        }

        .slot.filled {
            border-style: solid;
            border-color: #22c55e;
            background-color: rgba(34, 197, 94, 0.15);
        }

        /* Main Tab Navigation */
        .main-tab-btn {
            position: relative;
            padding: 14px 24px;
            border-radius: 12px 12px 0 0;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 14px;
            white-space: nowrap;
        }

        .main-tab-btn.active {
            background: rgba(31, 41, 55, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(75, 85, 99, 0.4);
            border-bottom: none;
        }

        .main-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, #4ade80, #22d3ee);
            border-radius: 2px 2px 0 0;
        }

        .main-tab-btn:not(.active) {
            background: rgba(17, 24, 39, 0.5);
            border: 1px solid transparent;
        }

        .main-tab-btn:not(.active):hover {
            background: rgba(31, 41, 55, 0.5);
            transform: translateY(-2px);
        }

        /* Rarity Colors */
        .rarity-C {
            color: #9ca3af;
        }

        .rarity-U {
            color: #22c55e;
        }

        .rarity-R {
            color: #3b82f6;
        }

        .rarity-VR {
            color: #a855f7;
        }

        .rarity-badge-C {
            background: rgba(156, 163, 175, 0.2);
            border: 1px solid rgba(156, 163, 175, 0.4);
        }

        .rarity-badge-U {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.4);
        }

        .rarity-badge-R {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.4);
        }

        .rarity-badge-VR {
            background: rgba(168, 85, 247, 0.2);
            border: 1px solid rgba(168, 85, 247, 0.4);
        }

        /* Guide Page Styles */
        .guide-section {
            background: rgba(17, 24, 39, 0.5);
            border: 1px solid rgba(75, 85, 99, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .guide-section h3 {
            color: #4ade80;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mishap-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .mishap-table th,
        .mishap-table td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid rgba(75, 85, 99, 0.3);
        }

        .mishap-table th {
            background: rgba(17, 24, 39, 0.7);
            color: #9ca3af;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
        }

        .mishap-table tr:last-child td {
            border-bottom: none;
        }

        /* Potion Type Colors */
        .potion-type-Combat {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
        }

        .potion-type-Utility {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.4);
        }

        .potion-type-Whimsical {
            background: rgba(168, 85, 247, 0.2);
            border-color: rgba(168, 85, 247, 0.4);
        }

        .type-badge-Combat {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .type-badge-Utility {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        .type-badge-Whimsical {
            background: rgba(168, 85, 247, 0.2);
            color: #c084fc;
        }

        .potion-card {
            transition: all 0.3s ease;
        }

        .potion-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>

<body class="bg-gray-950 text-gray-200 min-h-screen selection:bg-green-500 selection:text-white">

    <div class="max-w-[1280px] mx-auto p-4 sm:p-6 lg:p-8">

        <!-- Header -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-6 pb-6 border-b border-gray-800 gap-4">
            <div class="flex items-center gap-4">
                <a href="characters.html"
                    class="p-3 bg-gray-800/50 hover:bg-gray-800 rounded-xl border border-gray-700 transition group"
                    title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
                    <i class="fa-solid fa-arrow-left text-gray-400 group-hover:text-white"></i>
                </a>
                <div class="p-3 bg-gray-800 rounded-xl shadow-lg border border-gray-700">
                    <span class="text-2xl">üß™</span>
                </div>
                <div>
                    <h1 class="text-3xl font-bold text-white tracking-tight">
                        The <span class="gradient-text">Glass Arboretum</span>
                    </h1>
                    <p class="text-xs text-gray-500 mt-1">Alchemy Crafting System</p>
                </div>
            </div>

            <div class="flex items-center gap-3 bg-gray-900/50 p-2 rounded-xl border border-gray-800">
                <div class="px-3 flex flex-col items-end">
                    <span class="text-[10px] text-gray-500 uppercase font-bold tracking-wider">Logged in as</span>
                    <span id="userEmail" class="text-sm font-medium text-gray-300">...</span>
                </div>
                <button onclick="logout()"
                    class="bg-rose-600/10 hover:bg-rose-600 text-rose-500 hover:text-white p-2 rounded-lg transition-all duration-300 border border-rose-600/20"
                    title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                        <polyline points="16 17 21 12 16 7" />
                        <line x1="21" x2="9" y1="12" y2="12" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main Tab Navigation -->
        <div class="flex gap-1 mb-0 overflow-x-auto pb-1 scrollbar-hide">
            <button id="mainTabCrafter" onclick="switchMainPage('crafter')"
                class="main-tab-btn active text-green-400 flex items-center gap-2 shadow-lg">
                <i class="fas fa-flask"></i>
                <span class="hidden sm:inline">Potion Crafter</span>
            </button>
            <button id="mainTabGuide" onclick="switchMainPage('guide')"
                class="main-tab-btn text-gray-400 hover:text-gray-200 flex items-center gap-2">
                <i class="fas fa-book"></i>
                <span class="hidden sm:inline">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</span>
            </button>
            <button id="mainTabIngredients" onclick="switchMainPage('ingredients')"
                class="main-tab-btn text-gray-400 hover:text-gray-200 flex items-center gap-2">
                <i class="fas fa-leaf"></i>
                <span class="hidden sm:inline">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</span>
            </button>
            <button id="mainTabPotions" onclick="switchMainPage('potions')"
                class="main-tab-btn text-gray-400 hover:text-gray-200 flex items-center gap-2">
                <i class="fas fa-prescription-bottle"></i>
                <span class="hidden sm:inline">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤</span>
            </button>
            <button id="mainTabBoons" onclick="switchMainPage('boons')"
                class="main-tab-btn text-gray-400 hover:text-gray-200 flex items-center gap-2">
                <i class="fas fa-gem"></i>
                <span class="hidden sm:inline">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Boons</span>
            </button>
        </div>

        <!-- ==================== PAGE 1: POTION CRAFTER ==================== -->
        <div id="page-crafter" class="glass-panel rounded-2xl rounded-tl-none p-6 mb-8">
            <!-- Character Selection -->
            <div class="bg-gray-900/50 p-5 rounded-xl mb-6 border border-gray-800">
                <h2 class="text-lg font-bold mb-4 text-white flex items-center gap-2">
                    <span class="bg-green-500/20 text-green-400 p-1.5 rounded-lg text-sm"><i
                            class="fa-solid fa-user"></i></span>
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏õ‡∏£‡∏∏‡∏á‡∏¢‡∏≤
                </h2>
                <div class="flex flex-col md:flex-row gap-4">
                    <!-- User's Own Characters -->
                    <div class="flex-1">
                        <label class="text-xs text-gray-500 mb-1 block">‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</label>
                        <select id="characterSelect" class="w-full p-3 rounded-xl input-primary pr-10">
                            <option value="" disabled selected>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</option>
                        </select>
                    </div>

                    <!-- Admin Only: Button to Open Modal -->
                    <div id="adminCharSelectWrapper" class="flex-1 hidden">
                        <label class="text-xs text-purple-400 mb-1 block flex items-center gap-1">
                            <i class="fas fa-crown text-yellow-400"></i> ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Admin)
                        </label>
                        <button onclick="openAdminCharModal()"
                            class="w-full p-3 rounded-xl bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-purple-300 hover:text-white transition flex items-center justify-center gap-2">
                            <i class="fas fa-users"></i>
                            <span id="adminSelectedCharName">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô...</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                <!-- Inventory Panel -->
                <div class="lg:col-span-1 bg-gray-900/50 p-5 rounded-xl border border-gray-800 flex flex-col h-[65vh]">
                    <!-- Tabs -->
                    <div class="flex border-b border-gray-700 mb-4 gap-4">
                        <button id="tabIngBtn" onclick="switchTab('ingredient')"
                            class="tab-btn active pb-3 text-sm font-semibold text-green-400 flex items-center gap-2">
                            <i class="fas fa-leaf"></i> ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö
                        </button>
                        <button id="tabPotBtn" onclick="switchTab('potion')"
                            class="tab-btn pb-3 text-sm font-semibold text-gray-400 hover:text-gray-200 flex items-center gap-2">
                            <i class="fas fa-prescription-bottle"></i> ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏¢‡∏≤
                        </button>
                    </div>

                    <!-- GM Panel -->
                    <div id="gmPanel" class="mb-4 flex gap-2">
                        <div class="relative flex-grow">
                            <input type="text" id="addItemInput" placeholder="+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö (‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...)"
                                class="w-full p-2.5 rounded-xl input-primary text-sm pr-10" autocomplete="off">
                            <input type="hidden" id="addItemSelect" value="">
                            <div id="addItemDropdown"
                                class="absolute top-full left-0 right-0 mt-1 bg-gray-900 border border-gray-700 rounded-xl max-h-60 overflow-y-auto z-50 hidden shadow-xl">
                            </div>
                        </div>
                        <button onclick="addManualItem()"
                            class="bg-green-600 hover:bg-green-500 text-white px-4 rounded-xl text-sm font-medium transition shadow-lg shadow-green-600/20">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>

                    <!-- Lists -->
                    <div id="inventoryList" class="flex-grow overflow-y-auto space-y-2 pr-2">
                        <div class="text-center text-gray-500 mt-10 flex flex-col items-center gap-3">
                            <i class="fa-solid fa-flask-vial text-4xl text-gray-600"></i>
                            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</p>
                        </div>
                    </div>
                    <div id="potionList" class="hidden flex-grow overflow-y-auto space-y-2 pr-2">
                        <div class="text-center text-gray-500 mt-10 flex flex-col items-center gap-3">
                            <i class="fa-solid fa-bottle-droplet text-4xl text-gray-600"></i>
                            <p>‡πÑ‡∏°‡πà‡∏°‡∏µ Potion ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∏‡∏á‡πÑ‡∏ß‡πâ</p>
                        </div>
                    </div>
                </div>

                <!-- Crafting Area -->
                <div class="lg:col-span-2 flex flex-col gap-6">

                    <div class="bg-gray-900/50 p-5 rounded-xl border border-gray-800">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-lg font-semibold text-white flex items-center gap-2">
                                <span class="bg-purple-500/20 text-purple-400 p-1.5 rounded-lg text-sm"><i
                                        class="fa-solid fa-flask"></i></span>
                                ‡πÇ‡∏ï‡πä‡∏∞‡∏õ‡∏£‡∏∏‡∏á‡∏¢‡∏≤ (Alchemy Table)
                            </h2>
                            <button onclick="openPotionCalculator()"
                                class="bg-cyan-600/20 hover:bg-cyan-600 text-cyan-400 hover:text-white px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 border border-cyan-500/30 flex items-center gap-2 shadow-lg shadow-cyan-600/10 hover:shadow-cyan-600/30 hover:-translate-y-0.5">
                                <i class="fas fa-calculator"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∏‡∏á‡πÑ‡∏î‡πâ
                            </button>
                        </div>

                        <!-- Progression Graph -->
                        <div class="mb-6 bg-gray-800/50 p-4 rounded-xl border border-gray-700/50">
                            <div class="flex items-center justify-between mb-2">
                                <div class="text-xs text-gray-400 flex items-center gap-2">
                                    <i class="fas fa-flask"></i> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏¢‡∏≤
                                </div>
                                <span id="progressLabel" class="text-xs font-mono text-gray-300">0 / 3</span>
                            </div>
                            <div class="bg-gray-900 rounded-full h-4 overflow-hidden">
                                <div id="progressBar"
                                    class="bg-gradient-to-r from-green-600 via-emerald-500 to-green-400 h-full rounded-full transition-all duration-500 ease-out"
                                    style="width: 0%"></div>
                            </div>
                            <div class="flex justify-between text-[10px] text-gray-500 mt-1 px-1">
                                <span>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</span>
                                <span>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏£‡∏∏‡∏á!</span>
                            </div>
                        </div>

                        <!-- Slots -->
                        <div class="grid grid-cols-3 gap-4 mb-6">
                            <div id="slot1" class="slot" onclick="removeIngredient(0)">
                                <span class="text-gray-500 text-sm">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö 1</span>
                            </div>
                            <div id="slot2" class="slot" onclick="removeIngredient(1)">
                                <span class="text-gray-500 text-sm">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö 2</span>
                            </div>
                            <div id="slot3" class="slot" onclick="removeIngredient(2)">
                                <span class="text-gray-500 text-sm">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö 3</span>
                            </div>
                        </div>

                        <!-- Stats -->
                        <div
                            class="grid grid-cols-3 gap-4 text-center text-sm mb-6 bg-gray-800/30 p-4 rounded-xl border border-gray-700/50">
                            <div id="statBoxCombat"
                                class="bg-gray-900/50 rounded-xl p-3 border border-gray-700/30 transition-all">
                                <div class="text-red-400 text-xs font-semibold uppercase tracking-wider mb-1"><i
                                        class="fas fa-fist-raised"></i> Combat</div>
                                <div id="totalCombat" class="font-bold text-2xl text-white">0</div>
                            </div>
                            <div id="statBoxUtility"
                                class="bg-gray-900/50 rounded-xl p-3 border border-gray-700/30 transition-all">
                                <div class="text-blue-400 text-xs font-semibold uppercase tracking-wider mb-1"><i
                                        class="fas fa-tools"></i> Utility</div>
                                <div id="totalUtility" class="font-bold text-2xl text-white">0</div>
                            </div>
                            <div id="statBoxWhimsy"
                                class="bg-gray-900/50 rounded-xl p-3 border border-gray-700/30 transition-all">
                                <div class="text-purple-400 text-xs font-semibold uppercase tracking-wider mb-1"><i
                                        class="fas fa-hat-wizard"></i> Whimsy</div>
                                <div id="totalWhimsy" class="font-bold text-2xl text-white">0</div>
                            </div>
                        </div>

                        <!-- Tie Breaker -->
                        <div id="tieBreaker"
                            class="hidden mb-4 p-4 bg-yellow-900/30 border border-yellow-600/50 rounded-xl text-center">
                            <p class="text-yellow-400 text-sm mb-3"><i class="fas fa-balance-scale"></i> ‡∏Ñ‡πà‡∏≤ Attribute
                                ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô!
                                ‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:</p>
                            <div class="flex justify-center gap-3" id="tieButtons">
                            </div>
                        </div>

                        <!-- Preview Result -->
                        <div id="previewResult"
                            class="hidden mb-6 p-5 bg-gradient-to-br from-gray-800/50 to-green-900/20 rounded-xl border border-green-600/30 text-center transition-all">
                            <div class="text-green-400 text-xs uppercase tracking-wider font-bold mb-2">Potion ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
                            </div>
                            <div id="potionTypeInfo" class="flex justify-center gap-3 mb-2">
                                <span id="potionType"
                                    class="text-sm px-3 py-1 rounded-full bg-gray-700 text-gray-300"></span>
                                <span id="potionRarity"
                                    class="text-sm px-3 py-1 rounded-full bg-gray-700 text-gray-300 capitalize"></span>
                                <span id="potionValue"
                                    class="text-sm px-3 py-1 rounded-full bg-green-600/30 text-green-300 font-bold"></span>
                            </div>
                            <h3 id="potionName" class="text-2xl font-bold text-white mb-1">...</h3>
                            <p id="potionDesc" class="text-sm text-gray-300 italic">...</p>
                        </div>

                        <!-- Craft Button -->
                        <button id="craftBtn" onclick="craftPotion()" disabled
                            class="w-full bg-gray-700 text-gray-400 font-bold py-3.5 rounded-xl shadow transition-all cursor-grab">
                            ‡∏õ‡∏£‡∏∏‡∏á‡∏¢‡∏≤ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á)
                        </button>

                        <!-- Crafting Log -->
                        <div id="craftLogArea"
                            class="hidden mt-6 p-5 bg-gray-800/50 rounded-xl border border-gray-700 relative">
                            <h4
                                class="text-gray-400 text-xs font-bold uppercase tracking-wider mb-3 flex items-center gap-2">
                                <i class="fa-solid fa-scroll"></i> Crafting Log
                            </h4>
                            <pre id="logContent" class="text-sm text-green-300 font-mono whitespace-pre-wrap"></pre>
                            <button onclick="copyLog()"
                                class="absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs px-3 py-1.5 rounded-lg border border-gray-600 transition flex items-center gap-1.5">
                                <i class="fas fa-copy"></i> Copy for Discord
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== PAGE 2: GUIDE ==================== -->
        <div id="page-guide" class="glass-panel rounded-2xl p-6 mb-8 hidden">
            <!-- Lore Section -->
            <div class="guide-section">
                <h3><i class="fas fa-scroll"></i> ‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡πÅ‡∏´‡πà‡∏á The Spire - The Glass Arboretum</h3>
                <div class="text-gray-300 leading-relaxed space-y-4">
                    <p>‡∏ó‡πà‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏¢‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏£‡πâ‡∏à‡∏∏‡∏î‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢ The Spire...
                        ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á‡∏ö‡∏≤‡∏á‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏Å‡πÅ‡∏¢‡∏Å ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏ä‡∏∑‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏î‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
                        ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏´‡∏≠‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡∏õ‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏™‡∏£‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ ‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏™‡∏µ‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏£‡πâ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏•‡∏°</p>
                    <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÑ‡∏°‡πâ‡πÇ‡∏≠‡πä‡∏Ñ‡∏Ç‡∏ô‡∏≤‡∏î‡∏°‡∏´‡∏∂‡∏°‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ... ‡∏†‡∏≤‡∏û‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∑‡∏≠ <span
                            class="text-green-400 font-semibold">"The Glass Arboretum"</span>
                        ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏¢‡∏±‡∏Å‡∏©‡πå‡∏ó‡∏µ‡πà‡∏ù‡∏±‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢</p>
                    <p>‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ö‡∏ô‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á‡∏à‡∏≤‡∏Å‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏´‡∏•‡∏≤‡∏î‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏™‡πà‡∏≠‡∏á‡∏•‡∏á‡∏°‡∏≤‡∏¢‡∏±‡∏á‡∏û‡∏£‡∏£‡∏ì‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏≤‡∏ä‡∏ç‡πå‡∏Ñ‡∏ô‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠
                        ‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ï‡∏±‡∏ß‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡∏µ‡∏ö‡πÉ‡∏™‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡∏û‡πà‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏´‡∏¥‡πà‡∏á‡∏´‡πâ‡∏≠‡∏¢
                        ‡πÄ‡∏ñ‡∏≤‡∏ß‡∏±‡∏•‡∏¢‡πå‡∏´‡∏ô‡∏≤‡∏°‡∏™‡∏µ‡∏î‡∏≥‡∏ó‡∏µ‡πà‡∏Ç‡∏¢‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏ä‡πâ‡∏≤‡πÜ ‡∏£‡∏≤‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏≤‡∏¢‡πÉ‡∏à ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏¢‡∏±‡πà‡∏á‡∏•‡∏á‡∏î‡∏¥‡∏ô...
                        ‡πÅ‡∏ï‡πà‡∏´‡∏¢‡∏±‡πà‡∏á‡∏•‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏£‡∏≠‡∏¢‡πÅ‡∏¢‡∏Å‡∏Ç‡∏≠‡∏á‡∏°‡∏¥‡∏ï‡∏¥</p>
                    <p class="text-gray-400 italic">
                        ‡∏ß‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏´‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÇ‡∏î‡∏¢‡∏≠‡∏î‡∏µ‡∏ï‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏©‡∏µ‡∏¢‡∏ì‡πÑ‡∏õ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏ß‡∏ô‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏≤‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß...
                    </p>
                </div>
            </div>

            <!-- Conditions Section -->
            <div class="guide-section">
                <h3><i class="fas fa-exclamation-triangle text-yellow-400"></i> ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</h3>
                <ul class="text-gray-300 space-y-2 list-disc list-inside">
                    <li>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ</li>
                    <li>Potion ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Potion ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á <span
                            class="text-cyan-400 font-mono">#the-glass-arboretum</span></li>
                </ul>
            </div>

            <!-- How to Harvest -->
            <div class="guide-section">
                <h3><i class="fas fa-seedling text-green-400"></i> ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÑ‡∏î‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á</h3>
                <ul class="text-gray-300 space-y-2 list-disc list-inside">
                    <li>‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å <span class="text-yellow-400 font-semibold">6 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</span></li>
                    <li>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢: <span class="text-yellow-400 font-semibold">100gp √ó ‡∏£‡∏∞‡∏î‡∏±‡∏ö Tier ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</span>
                    </li>
                </ul>
                <div class="mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700">
                    <p class="text-sm text-gray-400 mb-2"><i class="fas fa-terminal mr-2"></i>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</p>
                    <p class="text-gray-200">‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á <span
                            class="text-cyan-400 font-mono">#the-glass-arboretum</span> ‡πÉ‡∏ô Activities ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
                        <code class="bg-gray-700 px-2 py-1 rounded text-green-400">!harvest</code>
                        (‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏´‡∏±‡∏Å‡∏ó‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢)
                    </p>
                </div>
            </div>

            <!-- How to Create Potions -->
            <div class="guide-section">
                <h3><i class="fas fa-flask text-purple-400"></i> ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á Potions</h3>
                <ol class="text-gray-300 space-y-3 list-decimal list-inside">
                    <li>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 3 ‡∏≠‡∏±‡∏ô ‡πÇ‡∏î‡∏¢‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô <span class="text-red-400">Combat</span>, <span
                            class="text-blue-400">Utility</span>, ‡πÅ‡∏•‡∏∞ <span class="text-purple-400">Whimsy</span><br>
                        <span class="text-gray-400 text-sm ml-6">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Boom Beri = Combat 7, Utility 6, Whimsy
                            1</span>
                    </li>
                    <li>‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Potion ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö <span class="text-yellow-400 font-semibold">3
                            ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô</span> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ Attribute ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</li>
                    <li>‡∏Ñ‡πà‡∏≤ Attribute ‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (Combat, Utility, ‡∏´‡∏£‡∏∑‡∏≠ Whimsy) ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô Potion
                        ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö</li>
                    <li>‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ Potion ‡∏≠‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á Attribute ‡∏ô‡∏±‡πâ‡∏ô<br>
                        <span class="text-gray-400 text-sm ml-6">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏ñ‡πâ‡∏≤ Combat ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏£‡∏ß‡∏° = 21 ‚Üí ‡πÑ‡∏î‡πâ Combat
                            Potion ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç 21</span>
                    </li>
                </ol>

                <!-- Tier Requirement Note -->
                <div class="mt-4 p-4 bg-yellow-900/20 rounded-lg border border-yellow-600/30">
                    <p class="text-yellow-400 font-semibold mb-2"><i class="fas fa-info-circle mr-2"></i>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:
                        ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Potions</p>
                    <p class="text-gray-300 mb-3">‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö Tier ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö Rarity ‡∏Ç‡∏≠‡∏á Potion
                        ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ö‡πà‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ</p>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-2">
                        <div class="bg-gray-800/50 p-3 rounded-lg border border-gray-600/30 text-center">
                            <span
                                class="text-sm px-2.5 py-0.5 rounded-full bg-gray-600/30 text-gray-300 font-medium">Common</span>
                            <p class="text-gray-300 text-sm mt-2">Tier 1, Tier 2, Tier 3</p>
                        </div>
                        <div class="bg-gray-800/50 p-3 rounded-lg border border-green-600/30 text-center">
                            <span
                                class="text-sm px-2.5 py-0.5 rounded-full bg-green-600/30 text-green-300 font-medium">Uncommon</span>
                            <p class="text-gray-300 text-sm mt-2">Tier 2, Tier 3</p>
                        </div>
                        <div class="bg-gray-800/50 p-3 rounded-lg border border-blue-600/30 text-center">
                            <span
                                class="text-sm px-2.5 py-0.5 rounded-full bg-blue-600/30 text-blue-300 font-medium">Rare</span>
                            <p class="text-gray-300 text-sm mt-2">Tier 3</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calculation Example -->
            <div class="guide-section">
                <h3><i class="fas fa-calculator text-cyan-400"></i> ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Potion</h3>
                <div class="text-gray-300 space-y-4">
                    <p>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                        <div class="bg-gray-800/50 p-3 rounded-lg border border-gray-700">
                            <div class="font-semibold text-green-300">Boom Beri</div>
                            <div class="text-sm"><span class="text-red-400">C:7</span> <span
                                    class="text-blue-400">U:6</span> <span class="text-purple-400">W:1</span></div>
                        </div>
                        <div class="bg-gray-800/50 p-3 rounded-lg border border-gray-700">
                            <div class="font-semibold text-green-300">Flash Paper</div>
                            <div class="text-sm"><span class="text-red-400">C:6</span> <span
                                    class="text-blue-400">U:9</span> <span class="text-purple-400">W:1</span></div>
                        </div>
                        <div class="bg-gray-800/50 p-3 rounded-lg border border-gray-700">
                            <div class="font-semibold text-green-300">Rust Crab</div>
                            <div class="text-sm"><span class="text-red-400">C:8</span> <span
                                    class="text-blue-400">U:4</span> <span class="text-purple-400">W:2</span></div>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="mishap-table mt-4">
                            <thead>
                                <tr>
                                    <th>Attribute</th>
                                    <th>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                    <th>‡∏ú‡∏•‡∏£‡∏ß‡∏°</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-red-400 font-semibold">Combat</td>
                                    <td class="text-gray-400">7 + 6 + 8</td>
                                    <td class="text-white font-bold">21</td>
                                </tr>
                                <tr>
                                    <td class="text-blue-400 font-semibold">Utility</td>
                                    <td class="text-gray-400">6 + 9 + 4</td>
                                    <td class="text-white font-bold">19</td>
                                </tr>
                                <tr>
                                    <td class="text-purple-400 font-semibold">Whimsy</td>
                                    <td class="text-gray-400">1 + 1 + 2</td>
                                    <td class="text-white font-bold">4</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="text-gray-300 mt-4">
                        ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å <span class="text-red-400 font-semibold">Combat</span> ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
                        ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Combat potion<br>
                        ‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡∏ú‡∏•‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á Combat ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà <span class="text-yellow-400 font-semibold">21</span>
                        ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö <span class="text-green-400 font-semibold">Dancing Juice Potion</span>
                    </p>
                </div>
            </div>

            <!-- Potion Mishaps -->
            <div class="guide-section border-t-4 border-t-red-500/50">
                <h3><i class="fas fa-skull-crossbones text-red-400"></i> Potion Mishaps</h3>

                <div class="mt-4">
                    <h4 class="text-yellow-400 font-semibold mb-2"><i class="fas fa-dizzy mr-2"></i>Potion Sickness</h4>
                    <p class="text-gray-300 mb-3">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏î‡∏∑‡πà‡∏° Potion ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏Ç‡∏ß‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ß‡∏±‡∏ô ‡πÉ‡∏´‡πâ‡∏ó‡∏≠‡∏¢ <span
                            class="text-cyan-400 font-semibold">Constitution save DC 13</span></p>
                    <ul class="text-gray-300 space-y-2 list-disc list-inside ml-4">
                        <li><span class="text-red-400">‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô:</span> ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞ Potion ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏ú‡∏•</li>
                        <li><span class="text-green-400">‡∏ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô:</span> ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£... ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡πÜ‡∏Å‡πá‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
                        </li>
                    </ul>
                </div>

                <div class="mt-4 p-4 bg-yellow-900/20 rounded-lg border border-yellow-600/30">
                    <p class="text-yellow-400 font-semibold mb-2"><i class="fas fa-arrow-up mr-2"></i>DC ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô!</p>
                    <p class="text-gray-300">‡∏ó‡∏∏‡∏Å‡πÜ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏∑‡πà‡∏° Potion ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ save DC ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô:<br>
                        <span class="text-yellow-400">+2 DC</span> ‡∏ï‡πà‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô save ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏∑‡πà‡∏° Potion
                    </p>
                    <p class="text-gray-400 text-sm mt-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Ç‡∏ß‡∏î‡∏ó‡∏µ‡πà 2 = DC 13, ‡∏Ç‡∏ß‡∏î‡∏ó‡∏µ‡πà 3 = DC 15, ‡∏Ç‡∏ß‡∏î‡∏ó‡∏µ‡πà 4 = DC 17
                        ‡∏Ø‡∏•‡∏Ø</p>
                    <p class="text-gray-400 text-sm mt-2 italic">* ‡∏Å‡∏≤‡∏£‡∏õ‡∏≤, ‡πÇ‡∏¢‡∏ô, ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö</p>
                </div>

                <div class="mt-4">
                    <h4 class="text-red-400 font-semibold mb-2"><i
                            class="fas fa-exclamation-circle mr-2"></i>‡∏ú‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á (‡∏´‡∏≤‡∏Å save ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏¢ save
                        ‡∏ú‡πà‡∏≤‡∏ô)</h4>
                    <p class="text-gray-300 mb-3">‡∏´‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ save ‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏î‡∏±‡∏ô save ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á...
                        ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Ç‡∏≠‡∏á Potion Sickness ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≠‡∏¢‡πÄ‡∏ï‡πã‡∏≤ <span class="text-yellow-400">d10</span>
                        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á:</p>

                    <div class="overflow-x-auto">
                        <table class="mishap-table">
                            <thead>
                                <tr>
                                    <th class="w-16">d10</th>
                                    <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-yellow-400 font-bold">1</td>
                                    <td>Sand fills your mouth, making it impossible to speak. This effect lasts for 1
                                        minute.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">2</td>
                                    <td>You lose the ability to use your arms as they turn jelly-like in nature. This
                                        effect lasts until the end of your next turn.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">3</td>
                                    <td>Your vision blurs then pops back into clarity, only now all creatures look
                                        exactly the same to you and are indistinguishable except by touch. This effect
                                        lasts for 1 minute.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">4</td>
                                    <td>In a blur of magic, you shift into one of the following adorable critters, as if
                                        the spell Polymorph was cast on you. (roll a d6: 1 Kitten, 2 Songbird, 3 Puppy,
                                        4 Black Bear Cub, 5 Piglet, 6 Otter Pup)</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">5</td>
                                    <td>In a blinding flash of light and a sonic boom, you are teleported away. Roll 1d4
                                        to determine direction with "1" being cardinal north and moving clockwise. Then
                                        roll 1d4 to determine how many hundreds of feet that you are teleported.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">6</td>
                                    <td>You can no longer control your voice, causing it to randomly change in volume as
                                        you speak. This effect lasts for 1 hour.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">7</td>
                                    <td>Eels grow in your gut for the next hour. Every so often you cough one up.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">8</td>
                                    <td>For the next week, the sight of potions makes you sick. You must succeed on a DC
                                        15 Constitution saving throw to drink a potion.</td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">9</td>
                                    <td>Being within 5 feet of any kind of magic causes you to instantly break out in
                                        itchy hives, reducing any Charisma checks by 2. This allergy lasts for 1d4 days.
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-yellow-400 font-bold">10</td>
                                    <td>You gain the effect of a random common whimsy potion.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== PAGE 3: INGREDIENTS ==================== -->
        <div id="page-ingredients" class="glass-panel rounded-2xl p-6 mb-8 hidden">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
                <h2 class="text-xl font-bold text-white flex items-center gap-2">
                    <span class="bg-green-500/20 text-green-400 p-2 rounded-lg"><i class="fas fa-leaf"></i></span>
                    ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </h2>
                <div class="flex gap-3 w-full md:w-auto">
                    <input type="text" id="ingredientSearch" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö..."
                        class="input-primary text-sm flex-grow md:w-64" oninput="filterIngredients()">
                    <select id="rarityFilter" class="input-primary text-sm pr-10" onchange="filterIngredients()">
                        <option value="">‡∏ó‡∏∏‡∏Å Rarity</option>
                        <option value="C">Common</option>
                        <option value="U">Uncommon</option>
                        <option value="R">Rare</option>
                        <option value="VR">Very Rare</option>
                    </select>
                </div>
            </div>

            <!-- Rarity Legend -->
            <div class="flex flex-wrap gap-4 mb-4 text-sm">
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-gray-400"></span>
                    Common</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-green-500"></span>
                    Uncommon</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-blue-500"></span> Rare</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-purple-500"></span> Very
                    Rare</span>
            </div>

            <!-- Stats Summary -->
            <div id="ingredientStats" class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-white" id="totalIngredients">0</div>
                    <div class="text-xs text-gray-400">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-gray-400" id="commonCount">0</div>
                    <div class="text-xs text-gray-400">Common</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-green-400" id="uncommonCount">0</div>
                    <div class="text-xs text-gray-400">Uncommon</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-blue-400" id="rareCount">0</div>
                    <div class="text-xs text-gray-400">Rare</div>
                </div>
            </div>

            <!-- Ingredients Grid -->
            <div id="ingredientsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- ==================== PAGE 4: POTIONS LIST ==================== -->
        <div id="page-potions" class="glass-panel rounded-2xl p-6 mb-8 hidden">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
                <h2 class="text-xl font-bold text-white flex items-center gap-2">
                    <span class="bg-purple-500/20 text-purple-400 p-2 rounded-lg"><i
                            class="fas fa-prescription-bottle"></i></span>
                    ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </h2>
                <div class="flex gap-3 w-full md:w-auto">
                    <input type="text" id="potionSearch" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏¢‡∏≤..."
                        class="input-primary text-sm flex-grow md:w-64" oninput="filterPotions()">
                    <select id="potionTypeFilter" class="input-primary text-sm pr-10" onchange="filterPotions()">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                        <option value="Combat">Combat</option>
                        <option value="Utility">Utility</option>
                        <option value="Whimsical">Whimsical</option>
                    </select>
                    <select id="potionRarityFilter" class="input-primary text-sm pr-10" onchange="filterPotions()">
                        <option value="">‡∏ó‡∏∏‡∏Å Rarity</option>
                        <option value="common">Common</option>
                        <option value="uncommon">Uncommon</option>
                        <option value="rare">Rare</option>
                    </select>
                </div>
            </div>

            <!-- Type Legend -->
            <div class="flex flex-wrap gap-4 mb-4 text-sm">
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-red-500"></span>
                    Combat</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-blue-500"></span>
                    Utility</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-purple-500"></span>
                    Whimsical</span>
            </div>

            <!-- Stats Summary -->
            <div id="potionStats" class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-white" id="totalPotionsCount">0</div>
                    <div class="text-xs text-gray-400">‡∏¢‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-red-400" id="combatPotionsCount">0</div>
                    <div class="text-xs text-gray-400">Combat</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-blue-400" id="utilityPotionsCount">0</div>
                    <div class="text-xs text-gray-400">Utility</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-purple-400" id="whimsicalPotionsCount">0</div>
                    <div class="text-xs text-gray-400">Whimsical</div>
                </div>
            </div>

            <!-- Potions Grid -->
            <div id="potionsGrid" class="space-y-3">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- ==================== PAGE 5: BOONS LIST ==================== -->
        <div id="page-boons" class="glass-panel rounded-2xl p-6 mb-8 hidden">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
                <h2 class="text-xl font-bold text-white flex items-center gap-2">
                    <span class="bg-amber-500/20 text-amber-400 p-2 rounded-lg"><i class="fas fa-gem"></i></span>
                    ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Boons ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </h2>
                <div class="flex gap-3 w-full md:w-auto">
                    <input type="text" id="boonSearch" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Boon..."
                        class="input-primary text-sm flex-grow md:w-64" oninput="filterBoons()">
                    <select id="boonShardFilter" class="input-primary text-sm pr-10" onchange="filterBoons()">
                        <option value="">‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö Shards</option>
                        <option value="5">5 Shards</option>
                        <option value="10">10 Shards</option>
                        <option value="15">15 Shards</option>
                    </select>
                </div>
            </div>

            <!-- Conditions -->
            <div class="bg-amber-900/20 border border-amber-600/30 rounded-xl p-4 mb-6">
                <h3 class="text-amber-400 font-semibold mb-2 flex items-center gap-2">
                    <i class="fas fa-exclamation-triangle"></i> ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
                </h3>
                <ul class="text-gray-300 space-y-2 list-disc list-inside text-sm">
                    <li>‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡∏°‡∏µ Boon ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà <span class="text-amber-400 font-semibold">1 ‡∏≠‡∏±‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</span></li>
                    <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Boon Shard ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏•‡∏Å ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á <span
                            class="text-cyan-400 font-mono">#‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Åartifact‡πÅ‡∏•‡∏∞boon</span> ‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô <span
                            class="text-amber-400 font-semibold">"Obojima Boon"</span></li>
                </ul>
            </div>

            <!-- Shards Legend -->
            <div class="flex flex-wrap gap-4 mb-4 text-sm">
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-green-500"></span> 5
                    Shards</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-amber-500"></span> 10
                    Shards</span>
                <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-red-500"></span> 15
                    Shards</span>
            </div>

            <!-- Stats Summary -->
            <div id="boonStats" class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-white" id="totalBoonsCount">0</div>
                    <div class="text-xs text-gray-400">Boons ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-green-400" id="boons5Count">0</div>
                    <div class="text-xs text-gray-400">5 Shards</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-amber-400" id="boons10Count">0</div>
                    <div class="text-xs text-gray-400">10 Shards</div>
                </div>
                <div class="bg-gray-900/50 p-3 rounded-xl border border-gray-800 text-center">
                    <div class="text-2xl font-bold text-red-400" id="boons15Count">0</div>
                    <div class="text-xs text-gray-400">15 Shards</div>
                </div>
            </div>

            <!-- Boons Grid -->
            <div id="boonsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-8 text-center text-xs text-gray-600 border-t border-gray-800 pt-8">
            <p>&copy; üè∞ The Spire Tracking | Created by aKittyCatüêà. All rights reserved.</p>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="glass-panel p-8 rounded-2xl text-center">
            <div class="text-green-500 text-4xl animate-pulse mb-4"><i class="fas fa-spinner fa-spin"></i></div>
            <p class="text-gray-300">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</p>
        </div>
    </div>

    <!-- Admin Character Modal -->
    <div id="adminCharModal"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="glass-panel rounded-2xl w-full max-w-3xl max-h-[85vh] flex flex-col m-4">
            <!-- Header -->
            <div class="p-5 border-b border-gray-700 flex justify-between items-center">
                <h2 class="text-lg font-bold text-white flex items-center gap-2">
                    <span class="bg-purple-500/20 text-purple-400 p-1.5 rounded-lg text-sm"><i
                            class="fas fa-users"></i></span>
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (Admin)
                </h2>
                <button onclick="closeAdminCharModal()" class="text-gray-400 hover:text-white text-xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Search -->
            <div class="p-4 border-b border-gray-700">
                <input type="text" id="adminCharModalSearch" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£..."
                    class="w-full p-3 rounded-xl input-primary" oninput="filterAdminCharModal()">
            </div>

            <!-- Character List -->
            <div class="flex-1 overflow-y-auto p-4">
                <div id="adminCharModalGrid" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <!-- Populated by JS -->
                </div>
            </div>

            <!-- Pagination -->
            <div class="p-4 border-t border-gray-700 flex justify-between items-center">
                <div class="text-sm text-gray-400">
                    <span id="adminCharModalCount">0</span> ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
                </div>
                <div class="flex gap-2" id="adminCharModalPagination">
                    <!-- Pagination buttons -->
                </div>
            </div>
        </div>
    </div>

    <!-- Potion Calculator Modal -->
    <div id="potionCalcModal"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden"
        onclick="if(event.target===this)closePotionCalculator()">
        <div class="glass-panel rounded-2xl w-full max-w-3xl max-h-[85vh] flex flex-col mx-4 shadow-2xl">
            <!-- Header -->
            <div class="p-5 border-b border-gray-700 flex justify-between items-center">
                <h2 class="text-lg font-bold text-white flex items-center gap-2">
                    <span class="bg-cyan-500/20 text-cyan-400 p-1.5 rounded-lg text-sm"><i
                            class="fas fa-calculator"></i></span>
                    ‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∏‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ
                </h2>
                <button onclick="closePotionCalculator()" class="text-gray-400 hover:text-white text-xl transition">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Search/Filter -->
            <div class="p-4 border-b border-gray-700 flex flex-col sm:flex-row gap-3">
                <input type="text" id="calcSearchInput" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏≤..."
                    class="flex-1 p-2.5 rounded-xl input-primary text-sm" oninput="filterCalcResults()">
                <select id="calcTypeFilter" class="p-2.5 rounded-xl input-primary text-sm pr-10"
                    onchange="filterCalcResults()">
                    <option value="">‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                    <option value="Combat">Combat</option>
                    <option value="Utility">Utility</option>
                    <option value="Whimsical">Whimsical</option>
                </select>
            </div>

            <!-- Results info -->
            <div class="px-5 py-3 text-xs text-gray-400 flex items-center justify-between border-b border-gray-700/50">
                <span id="calcResultInfo">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì...</span>
                <span class="text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á</span>
            </div>

            <!-- Results List -->
            <div class="flex-1 overflow-y-auto p-4">
                <div id="calcResultsGrid" class="space-y-3">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <script src="js/glass_data.js"></script>
    <script src="js/glass_arboretum.js"></script>
</body>
</html>